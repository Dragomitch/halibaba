package marche_halibaba_clients;

import java.security.NoSuchAlgorithmException;
import java.security.spec.InvalidKeySpecException;
import java.sql.SQLException;

public class ClientsApp {
	
	static String environment;

	public static void main(String[] args) throws SQLException, NoSuchAlgorithmException, InvalidKeySpecException {
		
		if(args.length == 2 && args[0].equals("--env") && args[1].equals("dev")) {
			ClientsApp.environment = "dev";
			System.out.println("environnement de dev");
		} else {
			ClientsApp.environment = "prod";
			System.out.println("environnement de prod");
		}
				
		System.out.println(Db.getInstance().signIn("jeremy", "blublu"));
		System.out.println(PasswordHash.createHash("blublu"));
		
		try {
		System.out.println(Db.getInstance().signUp("jeremy2", "blublu", "Jeremy", "Wagemans"));
		} catch(SQLException e) {
			System.out.println("L'utilisateur existe déjà.");
		}
	}

}
